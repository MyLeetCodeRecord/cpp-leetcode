#### äºŒåˆ†æ³•

> æ— è®ºå·¦orå³ç«¯ç‚¹, å°†å¤–å±‚`while(l<r)`å›ºå®š, è¿™æ ·è¿”å›æ—¶ä¸éœ€è¦è€ƒè™‘è¿”å›`l`è¿˜æ˜¯`r`, å› ä¸º`l=r`
> 
> è€ƒè™‘è¾¹ç•Œæ—¶å€™æƒ³ä¸€ä¸‹è¿™å¼ å›¾
> 
> ![acwing-äºŒåˆ†](/appendix/acwing-%E4%BA%8C%E5%88%86.png)
> 
> å¯¹äºæ¨¡æ¿ä¸­çš„`mid=(l+r)/2`å’Œ`mid=(l+r+1)/2`çš„é€‰æ‹©, æœ‰ä»¥ä¸‹ä¸¤ç§åˆ¤æ–­æ–¹å¼
> 
> * ç›´è§‚çš„æƒ³æ³•, `binarySearch()`è¿”å›å€¼ä¸º`l=r=mid(æœ€åä¸€ä¸ª)`, å¦‚æœæ±‚ç¬¦åˆæ¡ä»¶çš„å³ç«¯ç‚¹, åˆ™åº”è¯¥ä»¤`mid=(l+r+1)/2`
> 
> * ç§‘å­¦åœ°æƒ³ğŸ¶, è€ƒè™‘è¿™æ ·çš„case, åªæœ‰ä¸¤ä¸ªå…ƒç´ çš„æ•°ç»„è¾¹ç•Œä¸º`l = r - 1`, åˆå§‹æ—¶`mid = (l + r)/2 = l`, æ­¤æ—¶æ›´æ–°`l=mid=l`ä¼šé™·å…¥æ­»å¾ªç¯, å› æ­¤éœ€è¦`mid = (l+r+1)/2`

##### å·¦ä¾§ç«¯ç‚¹
```CPP
int binary_search_left(int q[], int l, int r, int target){
    while(l<r){
        int mid = (l+r)/2;
        if(q[mid] < target)
            l = mid+1;
        else
            r = mid;
    }
    return l;
}
```

##### å³ä¾§ç«¯ç‚¹
```CPP
int binary_search_right(int q[], int l, int r, int target){
    while(l<r){
        int mid = (l+r+1)/2;
        if(q[mid] > target)
            r = mid-1;
        else
            l = mid;
    }
    return r;
}
```

##### äºŒåˆ†æ³•è§£çš„å­˜åœ¨æ€§
> **äºŒåˆ†æ³•ä¸€å®šæœ‰è§£**, å³ä½¿ä¸å­˜åœ¨target
> 
> ä»¥å·¦ä¾§ç«¯ç‚¹æ±‚è§£ä¸ºä¾‹, å¦‚æœä¸å­˜åœ¨`q[i]==x`, å°†è¿”å›ç¬¬ä¸€ä¸ªå¤§äºç­‰äºxçš„æ•°çš„ä½ç½®
> 
> åˆ¤æ–­è¿”å›å€¼æ˜¯å¦ç­‰äºx, å³å¯åˆ¤æ–­**é¢˜ç›®**æ˜¯å¦æ— è§£


##### æµ®ç‚¹æ•°äºŒåˆ†
> å¦‚æœèµ·å§‹`n<1`, ç›´æ¥ä½¿ç”¨`mid*mid>=n`åˆ¤æ–­ä¼šæœ‰é—®é¢˜, `r=n`, æ¯”å¦‚0.01çš„äºŒæ¬¡æ–¹æ ¹æ˜¯0.1 [åªå½±å“ä»£ç "å¯åŠ¨", ä¸å½±å“äºŒåˆ†æœ¬è´¨]
> 
> è§£å†³æ–¹æ³•æ˜¯åˆå§‹åŒ–èµ·å§‹çš„`r=max(1,n)`, æˆ–è€…ç›´æ¥å–æ•°æ®è¾¹ç•Œ(e.g. 10000)ä¹Ÿå¯ä»¥
> 
> æ±‚å¥‡æ•°æ–¹æ ¹æ—¶, è´Ÿæ•°å¹¶ä¸å½±å“ä»£ç è¿è¡Œ

```CPP
// äºŒåˆ†æ³•æ¨¡æ¿ã®æµ®ç‚¹æ•°äºŒåˆ†
// ä»¥acwing790. æ•°çš„ä¸‰æ¬¡æ–¹æ ¹ä¸ºä¾‹
double binary_search(double n, double l, double r){
    while(r-l > 1e-8){  // å¤šå–å‡ ä½
        double mid = (l+r)/2;
        // ä½“ä¼šä¸€ä¸‹"çº¯æœç´¢", ä¸ç”¨+1 or +1e(-x)å¤„ç†è¾¹ç•Œ
        if(mid*mid*mid >= n)
            r = mid;
        else
            l = mid;
    }
    return l;
}

binary_search(n, -max(abs(n), 1.0), max(abs(n),1.0));

// or

binary_search(n, -10000, 10000);
```